:root{--bg: #f7f7fb;--card-bg: #fff;--text: #222;--muted: #666;--border: #e8e8ef;--shadow: 0 6px 20px rgba(0, 0, 0, .06);--radius: 14px;--accent: #6c63ff}html,body,#root{height:100%}body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji"}.results{max-width:900px;margin:32px auto;padding:0 16px;display:grid;gap:14px}.empty{text-align:center;color:var(--muted);font-size:.95rem}.card{background:var(--card-bg);border:1px solid var(--border);border-radius:var(--radius);padding:14px 16px;box-shadow:var(--shadow)}.card__header{display:flex;align-items:center;gap:8px;flex-wrap:wrap;font-size:.92rem;color:var(--muted)}.card__book{font-weight:600;color:var(--text)}.card__dot{opacity:.7}.card__page{font-variant-numeric:tabular-nums}.card__text{margin:8px 0 6px;line-height:1.6;font-size:1.06rem}.card__footer{margin-top:4px;font-size:.9rem;color:var(--muted)}.search{max-width:600px;margin:24px auto 8px;padding:0 16px}.search__box{position:relative}.search__input{width:100%;padding:12px 44px;border:1px solid var(--border);border-radius:var(--radius);background:var(--card-bg);color:var(--text);box-shadow:var(--shadow);font-size:1rem;outline:none;transition:border-color .15s ease,box-shadow .15s ease}.search__input::placeholder{color:var(--muted)}.search__input:focus{border-color:var(--accent);box-shadow:0 0 0 3px #6c63ff1f}.search__icon{position:absolute;left:14px;top:50%;transform:translateY(-50%);width:18px;height:18px;opacity:.65;pointer-events:none;fill:currentColor;color:var(--muted)}.search__clear{position:absolute;right:0;top:50%;transform:translateY(-50%);border:0;background:transparent;font-size:20px;line-height:1;padding:0;color:var(--muted);cursor:pointer;border-radius:4px}.search__clear:hover{color:var(--text);background:#0000000a}.bookbar{position:sticky;top:0;z-index:10;display:flex;align-items:center;gap:12px;padding:10px 0 16px;background:var(--bg)}.bookbar__info{display:flex;align-items:baseline;gap:8px;color:var(--muted)}.bookbar__count{font-size:.9rem}.btn{border:1px solid var(--border);background:var(--card-bg);padding:8px 12px;border-radius:10px;box-shadow:var(--shadow);cursor:pointer}.btn:hover{filter:brightness(.98)}@keyframes pulseCard{0%{box-shadow:0 0 #6c63ff66}to{box-shadow:0 0 0 14px #6c63ff00}}.card--pulse{animation:pulseCard .8s ease-out 1;border-color:var(--accent);scroll-margin-top:72px}.card__footer--actions{display:flex;justify-content:space-between;align-items:center}.layout{display:grid;grid-template-columns:260px minmax(0,1fr);gap:16px;max-width:1200px;margin:24px auto;padding:0 16px}.content{min-width:0}.sidebar{position:sticky;top:12px;align-self:start;background:var(--card-bg);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px;max-height:calc(200vh - 50px);overflow:auto}.sidebar__header{font-weight:600;margin-bottom:10px}.sidebar__list{list-style:none;margin:0;padding:0;display:grid;gap:8px}.sidebar__item{width:100%;display:flex;justify-content:space-between;gap:10px;align-items:center;border:1px solid var(--border);background:transparent;padding:8px 10px;border-radius:10px;cursor:pointer;text-align:left}.sidebar__item:hover{background:#0000000a}.sidebar__item.is-active{border-color:var(--accent);background:#6c63ff14}.sidebar__itemTitle{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sidebar__count{font-variant-numeric:tabular-nums;color:var(--muted);border:1px solid var(--border);border-radius:999px;padding:2px 8px}@media (max-width: 900px){.layout{grid-template-columns:1fr;gap:12px}.sidebar{position:static;max-height:none}}:root{--sidebar-w: 340px;--gutter-l: clamp(16px, 4vw, 40px)}.layout.layout--left{grid-template-columns:var(--sidebar-w) minmax(0,1fr);max-width:none;margin:24px 0;padding-left:var(--gutter-l);padding-right:clamp(12px,3vw,28px);gap:16px}.layout.layout--left .sidebar{position:sticky;top:12px;align-self:start;background:var(--card-bg);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px;max-height:calc(100vh - 24px);overflow:auto}@media (max-width: 900px){.layout.layout--left{grid-template-columns:1fr;margin:16px 0;padding-left:16px;padding-right:16px}.layout.layout--left .sidebar{position:static;max-height:none}}form:has(>label>input[type=file][name=highlights]){position:static;top:auto;left:auto;display:inline-flex;align-items:center;gap:10px;margin:12px clamp(16px,3vw,28px);margin-right:auto;padding:8px 10px;background:var(--card-bg);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow)}form:has(>label>input[type=file][name=highlights])>label{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;margin:0;background:var(--card-bg);color:var(--text);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);cursor:pointer;font-size:.95rem}form:has(>label>input[type=file][name=highlights])>label>input[type=file][name=highlights]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0}form:has(>label>input[type=file][name=highlights])>button[type=submit]{padding:8px 12px;border-radius:var(--radius);border:1px solid transparent;background:var(--accent);color:#fff;box-shadow:var(--shadow);cursor:pointer;font-size:.95rem}form:has(>label>input[type=file][name=highlights])>button[type=submit]:hover{filter:brightness(.96)}form:has(>label>input[type=file][name=highlights])>button[type=submit]:disabled{opacity:.65;cursor:not-allowed}.combobox{width:100%;max-width:260px;min-height:160px;border:1px solid var(--border);border-radius:var(--radius);background:var(--card-bg);color:var(--text);box-shadow:var(--shadow);font:inherit;line-height:1.35;padding:6px;outline:none;transition:border-color .15s ease,box-shadow .15s ease,background .15s;cursor:default}.combobox:focus{border-color:var(--accent);box-shadow:0 0 0 3px #6c63ff1f}.combobox option{padding:8px 10px;border-radius:8px;margin:2px 0}.combobox option:hover{background:#0000000f}.combobox option:checked{color:#fff;background:var(--accent)!important;background-image:linear-gradient(var(--accent),var(--accent))!important}.combobox::-webkit-scrollbar{width:10px}.combobox::-webkit-scrollbar-track{background:transparent}.combobox::-webkit-scrollbar-thumb{background:#d9d9e6;border-radius:10px;border:2px solid transparent;background-clip:padding-box}.sidebar .combobox{max-width:none;width:100%;margin-bottom:10px}.content .combobox{margin:12px 16px}.bookbar{flex-wrap:wrap}.bookbar__search{flex:1;display:flex;justify-content:center;min-width:240px}.bookbar .search-input{width:min(560px,100%);padding:10px 12px 10px 40px;border:1px solid var(--border);border-radius:var(--radius);background:var(--card-bg) no-repeat 12px 50%;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='11' cy='11' r='7'/%3E%3Cline x1='21' y1='21' x2='16.65' y2='16.65'/%3E%3C/svg%3E");background-size:18px 18px;color:var(--text);box-shadow:var(--shadow);font-size:.98rem;outline:none;transition:border-color .15s ease,box-shadow .15s ease,background .15s ease}.bookbar .search-input::placeholder{color:var(--muted)}.bookbar .search-input:focus{border-color:var(--accent);box-shadow:0 0 0 3px #6c63ff1f}@media (max-width: 900px){.bookbar__search{order:3;flex-basis:100%;justify-content:stretch;margin-top:6px}.bookbar .search-input{width:100%}}
